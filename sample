# Brand Asset Generator - Environment Variables
# Copy this file to .env and fill in your actual values

# ============================================
# Database (Supabase)
# ============================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_KEY=your-service-role-key-here

# PostgreSQL connection (if using direct connection)
DATABASE_URL=postgresql://user:password@host:5432/database

# ============================================
# OpenAI (Required for AI generation)
# ============================================
OPENAI_API_KEY=sk-your-openai-api-key-here

# Model configuration
OPENAI_IMAGE_MODEL=dall-e-3
OPENAI_CHAT_MODEL=gpt-4-turbo-preview

# Rate limiting
OPENAI_MAX_RETRIES=3
OPENAI_RETRY_DELAY=1.0

# ============================================
# Canva Integration (Brand Brain v2)
# ============================================

CANVA_CLIENT_ID=OC-AZn3Gq75zGyH
CANVA_CLIENT_SECRET=cnvcaYUxTdyVMecu6ui8wZf8BL6ywsowyz72nH-OcR2N6Q4U0cd1a6b3
CANVA_REDIRECT_URI=http://localhost:8501/canva/callback

# Canva API base URL (usually default)
CANVA_API_BASE=https://api.canva.com/v1

# ============================================
# Stripe (Billing - Optional)
# ============================================
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Stripe Price IDs
STRIPE_PRICE_FREE=price_free_plan_id
STRIPE_PRICE_PRO=price_pro_plan_id
STRIPE_PRICE_ENTERPRISE=price_enterprise_plan_id

# ============================================
# Application Settings
# ============================================

# Environment (development, staging, production)
ENVIRONMENT=development

# App URL
APP_URL=http://localhost:8501

# Session secret (generate with: openssl rand -hex 32)
SESSION_SECRET=your-random-session-secret-here

# ============================================
# Brand Brain v2 Configuration
# ============================================

# OCR Configuration
OCR_CONFIDENCE_THRESHOLD=60
OCR_MIN_TEXT_LENGTH=3
OCR_MAX_REGENERATION_ATTEMPTS=3

# Validation Thresholds
VALIDATION_MIN_SCORE=70
DELTA_E_EXCELLENT=5.0
DELTA_E_ACCEPTABLE=20.0
WCAG_AA_CONTRAST=4.5

# Logo Engine
LOGO_LUMINANCE_DARK_THRESHOLD=0.3
LOGO_LUMINANCE_LIGHT_THRESHOLD=0.7
LOGO_DEFAULT_MIN_PX=120
LOGO_DEFAULT_SAFE_ZONE_PX=40

# ============================================
# Storage (Supabase Storage)
# ============================================
STORAGE_BUCKET_ASSETS=assets
STORAGE_BUCKET_LOGOS=logos
STORAGE_BUCKET_FONTS=fonts
STORAGE_BUCKET_BRAND_BOOKS=brand-books

# Local storage path (fallback for development)
LOCAL_STORAGE_PATH=./storage

# ============================================
# Logging
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# Sentry (Error tracking - Optional)
SENTRY_DSN=https://your-sentry-dsn-here

# ============================================
# Feature Flags
# ============================================
ENABLE_CANVA_RENDERER=true
ENABLE_OCR_VALIDATION=true
ENABLE_BRAND_BRAIN_V2=true
ENABLE_LEGACY_OVERLAY=false

# ============================================
# Billing & Credits
# ============================================
CREDITS_PER_GENERATION=10
CREDITS_PER_COMPOSITION=5

# Default plan credits
FREE_PLAN_CREDITS=100
PRO_PLAN_CREDITS=1000
ENTERPRISE_PLAN_CREDITS=10000

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_GENERATION_PER_HOUR=50
RATE_LIMIT_API_PER_MINUTE=100

# ============================================
# Testing
# ============================================
TEST_ORG_ID=00000000-0000-0000-0000-000000000001
TEST_USER_ID=00000000-0000-0000-0000-000000000002
PYTEST_SKIP_INTEGRATION=false

# ============================================
# Development Tools
# ============================================

# Enable debug mode
DEBUG=false

# Enable SQL query logging
LOG_SQL_QUERIES=false

# Mock external APIs (for testing without API keys)
MOCK_OPENAI=false
MOCK_CANVA=false
MOCK_STRIPE=false

# ============================================
# Security
# ============================================

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:8501,http://localhost:3000

# Cookie settings
COOKIE_SECURE=false
COOKIE_SAMESITE=lax

# ============================================
# Performance
# ============================================

# Image generation timeout (seconds)
IMAGE_GENERATION_TIMEOUT=120

# Database connection pool
DB_POOL_MIN_SIZE=2
DB_POOL_MAX_SIZE=10

# Cache TTL (seconds)
CACHE_TTL_BRAND_BRAIN=3600
CACHE_TTL_TEMPLATES=7200

# ============================================
# Monitoring & Analytics
# ============================================

# Google Analytics
GA_TRACKING_ID=G-XXXXXXXXXX

# PostHog (Product analytics - Optional)
POSTHOG_API_KEY=phc_your-posthog-key-here
POSTHOG_HOST=https://app.posthog.com

# ============================================
# External Integrations (Future)
# ============================================

# Figma (for design import)
FIGMA_ACCESS_TOKEN=

# Slack (for notifications)
SLACK_WEBHOOK_URL=

# Discord (for community)
DISCORD_WEBHOOK_URL=
